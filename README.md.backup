#  «Конфигурация приложений»

##Задание 1
*Создать Deployment приложения и решить возникшую проблему с помощью ConfigMap. Добавить веб-страницу*

*Создать Deployment приложения, состоящего из контейнеров nginx и multitool.*
*Решить возникшую проблему с помощью ConfigMap.*

*Продемонстрировать, что pod стартовал и оба конейнера работают.*

*Сделать простую веб-страницу и подключить её к Nginx с помощью ConfigMap. Подключить Service и показать вывод curl или в
браузере.*

*Предоставить манифесты, а также скриншоты или вывод необходимых команд.*

#Задание 2 
*Создать приложение с вашей веб-страницей, доступной по HTTPS*

*Создать Deployment приложения, состоящего из Nginx.*

*Создать собственную веб-страницу и подключить её как ConfigMap к приложению.*

*Выпустить самоподписной сертификат SSL. Создать Secret для использования сертификата.*

*Создать Ingress и необходимый Service, подключить к нему SSL в вид. Продемонстировать доступ к приложению по HTTPS.*

*Предоставить манифесты, а также скриншоты или вывод необходимых команд.*

### Задание 1

Пишем Deployment приложения, состоящего из контейнеров nginx и multitool.

![](img/1.png)

![](img/2.png)

Контейнеры пода не запустились, т.к. порт занят. 

Применим альтернативный порт и укажем в виде переменной HTTP_PORT в ConfigMap и укажем значение переменной равное 1180.

![](img/3.png)

Сделаем простую веб-страницу и подключим её к Nginx с помощью ConfigMap. Для этого модернизирую Deployment, добавив в него
volumeMounts ссылающийся на путь по умолчанию для nginx, где находится индексная страница - /usr/share/nginx/html/, а также сошлемся на сам ConfigMap. Подключим Service и применим ConfigMap.

Проверим, покажет ли nginx из контейнера пода созданную нами простую индексную страницу: 

![](img/4.png)

### Задание 2

Пишем манифест Deployment приложения, состоящего из Nginx.


![](img/5.png)


Выпускаем самоподписной сертификат SSL: 

![](img/6.png)


Создаем Secret для использования сертификата: 

![](img/7.png)

Файлы сертификатов конвертируем в формат base64 и размещаем в манифесте Secret. 

Проверяем:

![](img/8.png)

Создаю Ingress и необходимый Service, подключаю к нему SSL.


Проверяем доступ к сайту по HTTPS:

![](img/9.png)

-----
![](img/10.png)

Ссылки на манифесты:





 



